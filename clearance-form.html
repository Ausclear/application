<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clearance Request | AusClear</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    
    .form-container {
      max-width: 650px;
      margin: 40px auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      overflow: hidden;
    }
    
    .form-header {
      background: linear-gradient(135deg, #003366, #004d99);
      padding: 30px;
      text-align: center;
      color: #ffffff;
    }
    
    .form-header h1 {
      margin: 0 0 10px 0;
      font-size: 28px;
      color: #ffffff;
    }
    
    .form-header p {
      margin: 0;
      font-size: 15px;
      color: #e8f4f8;
    }
    
    .form-body {
      padding: 40px;
    }
    
    .form-group {
      margin-bottom: 24px;
    }
    
    .form-row {
      display: flex;
      gap: 15px;
      margin-bottom: 24px;
    }
    
    .form-col {
      flex: 1;
    }
    
    .form-col-half {
      width: 50%;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 500;
      font-size: 15px;
    }
    
    .required {
      color: #ff0000;
      margin-left: 3px;
    }
    
    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 15px;
      font-family: 'Segoe UI', Arial, sans-serif;
      transition: border-color 0.2s;
    }
    
    input[type="text"]:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #003366;
    }
    
    textarea {
      resize: vertical;
      min-height: 100px;
    }
    
    .name-inputs {
      display: flex;
      gap: 10px;
    }
    
    .name-inputs input {
      flex: 1;
    }
    
    .error-message {
      display: none;
      color: #ff0000;
      font-size: 14px;
      margin-top: 8px;
    }
    
    .button-group {
      display: flex;
      gap: 12px;
      margin-top: 30px;
    }
    
    .btn {
      flex: 1;
      padding: 14px 32px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background: #003366;
      color: #ffffff;
    }
    
    .btn-primary:hover {
      background: #002244;
    }
    
    .btn-primary:disabled {
      background: #6699cc;
      cursor: not-allowed;
    }
    
    .btn-secondary {
      background: #f5f5f5;
      color: #333;
      border: 1px solid #ddd;
    }
    
    .btn-secondary:hover {
      background: #e8e8e8;
    }
    
    .spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s linear infinite;
      vertical-align: middle;
      margin-right: 8px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .success-modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
    }
    
    .success-content {
      background: #fff;
      margin: 10% auto;
      max-width: 500px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    
    .success-header {
      background: linear-gradient(135deg, #28a745, #218838);
      padding: 40px;
      text-align: center;
      color: #ffffff;
    }
    
    .success-icon {
      width: 60px;
      height: 60px;
      background: #fff;
      border-radius: 50%;
      margin: 0 auto 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .success-header h2 {
      margin: 0;
      font-size: 28px;
      color: #ffffff;
    }
    
    .success-body {
      padding: 40px;
      text-align: center;
    }
    
    .success-body p {
      margin-bottom: 20px;
      color: #666;
      line-height: 1.6;
    }
    
    .success-name {
      font-size: 20px;
      font-weight: 600;
      color: #333;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

<div class="form-container">
  <div class="form-header">
    <h1>Clearance Request</h1>
    <p>Complete the form below to begin your security clearance journey</p>
  </div>
  
  <form id="clearanceForm" action="https://forms.zohopublic.com.au/AusClear/form/ClearanceEnquiry/formperma/HRO5geqIGw0VRDskhqFvTIZ3PXbOFk2rbCAzsFALlyQ/htmlRecords/submit" method="POST" class="form-body">
    
    <input type="hidden" name="zf_referrer_name" value="">
    <input type="hidden" name="zf_redirect_url" value="about:blank">
    <input type="hidden" name="zc_gad" value="">
    
    <div class="form-group">
      <label>Name <span class="required">*</span></label>
      <div class="name-inputs">
        <input type="text" name="Name_First" id="Name_First" placeholder="First Name" autocomplete="given-name">
        <input type="text" name="Name_Last" id="Name_Last" placeholder="Last Name" autocomplete="family-name">
      </div>
      <p class="error-message" id="Name_error">Please enter your name</p>
    </div>
    
    <div class="form-row">
      <div class="form-col">
        <label>Email <span class="required">*</span></label>
        <input type="text" name="Email" id="Email" placeholder="your.email@example.com" autocomplete="email">
        <p class="error-message" id="Email_error">Please enter a valid email address</p>
      </div>
      
      <div class="form-col">
        <label>Mobile</label>
        <input type="text" name="PhoneNumber_countrycode" id="PhoneNumber" placeholder="0400 000 000" maxlength="10" autocomplete="tel">
        <p class="error-message" id="PhoneNumber_error">Mobile number must be exactly 10 digits</p>
      </div>
    </div>
    
    <div class="form-row">
      <div class="form-col">
        <label>State/Territory</label>
        <select name="Dropdown" id="Dropdown">
          <option value="-Select-">-Select-</option>
          <option value="Western Australia">Western Australia</option>
          <option value="South Australia">South Australia</option>
          <option value="Victoria">Victoria</option>
          <option value="New South Wales">New South Wales</option>
          <option value="Australian Capital Territory">Australian Capital Territory</option>
          <option value="Tasmania">Tasmania</option>
          <option value="Queensland">Queensland</option>
          <option value="Northern Territory">Northern Territory</option>
        </select>
        <p class="error-message" id="Dropdown_error">Invalid value</p>
      </div>
      
      <div class="form-col">
        <label>Industry</label>
        <select name="Dropdown2" id="Dropdown2">
          <option value="-Select-">-Select-</option>
          <option value="Construction">Construction</option>
          <option value="Cyber Security">Cyber Security</option>
          <option value="Defence">Defence</option>
          <option value="Education">Education</option>
          <option value="Finance">Finance</option>
          <option value="Government">Government</option>
          <option value="IT">IT</option>
          <option value="Recruitment Agency">Recruitment Agency</option>
          <option value="SME">SME</option>
          <option value="Self Employed">Self Employed</option>
          <option value="Service Provider">Service Provider</option>
          <option value="Space">Space</option>
        </select>
        <p class="error-message" id="Dropdown2_error">Invalid value</p>
      </div>
    </div>
    
    <div class="form-group form-col-half">
      <label>How did you hear about us?</label>
      <select name="Dropdown1" id="Dropdown1">
        <option value="-Select-">-Select-</option>
        <option value="Google Search">Google Search</option>
        <option value="Google Ads">Google Ads</option>
        <option value="Facebook">Facebook</option>
        <option value="LinkedIn">LinkedIn</option>
        <option value="Instagram">Instagram</option>
        <option value="Twitter/X">Twitter/X</option>
        <option value="YouTube">YouTube</option>
        <option value="Email Campaign">Email Campaign</option>
        <option value="Word of Mouth">Word of Mouth</option>
        <option value="Referral from a Friend/Colleague">Referral from a Friend/Colleague</option>
        <option value="Existing Client Recommendation">Existing Client Recommendation</option>
        <option value="Trade Show/Exhibition">Trade Show/Exhibition</option>
        <option value="Industry Conference">Industry Conference</option>
        <option value="Networking Event">Networking Event</option>
        <option value="Business Directory (e.g., Yellow Pages)">Business Directory (e.g., Yellow Pages)</option>
        <option value="Online Forum/Community">Online Forum/Community</option>
        <option value="Government Website">Government Website</option>
        <option value="News Article/Press Release">News Article/Press Release</option>
        <option value="Blog Post">Blog Post</option>
        <option value="Podcast">Podcast</option>
        <option value="Flyer/Brochure">Flyer/Brochure</option>
        <option value="Radio Advertisement">Radio Advertisement</option>
        <option value="TV Advertisement">TV Advertisement</option>
        <option value="Newspaper/Magazine">Newspaper/Magazine</option>
        <option value="Cold Call">Cold Call</option>
      </select>
      <p class="error-message" id="Dropdown1_error">Invalid value</p>
    </div>
    
    <div class="form-group">
      <label>Message</label>
      <textarea name="MultiLine" id="MultiLine" placeholder="Tell us about your clearance requirements..."></textarea>
      <p class="error-message" id="MultiLine_error">Invalid value</p>
    </div>
    
    <div class="button-group">
      <button type="submit" class="btn btn-primary" id="submitBtn">
        <span id="submitText">Submit Request</span>
        <span id="loadingText" style="display: none;">
          <span class="spinner"></span>Submitting...
        </span>
      </button>
      <button type="button" class="btn btn-secondary" onclick="handleCancel()">Cancel</button>
    </div>
    
  </form>
</div>

<div class="success-modal" id="successModal">
  <div class="success-content">
    <div class="success-header">
      <div class="success-icon">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#28a745" stroke-width="3">
          <polyline points="20 6 9 17 4 12"/>
        </svg>
      </div>
      <h2>Thank You!</h2>
    </div>
    <div class="success-body">
      <p class="success-name" id="successName"></p>
      <p>Your clearance request has been successfully submitted. Redirecting you to our support page...</p>
    </div>
  </div>
</div>

<script>
// Handle cancel button
function handleCancel() {
  if (window.opener) {
    window.close();
  } else {
    window.history.back();
  }
}

// Capitalize first name
document.getElementById('Name_First').addEventListener('input', function(e) {
  let value = e.target.value;
  if (value.length > 0) {
    e.target.value = value.charAt(0).toUpperCase() + value.slice(1).toLowerCase();
  }
});

// Uppercase last name
document.getElementById('Name_Last').addEventListener('input', function(e) {
  e.target.value = e.target.value.toUpperCase();
});

// Numbers only for mobile
document.getElementById('PhoneNumber').addEventListener('input', function(e) {
  e.target.value = e.target.value.replace(/[^0-9]/g, '');
});

// Form submission
document.getElementById('clearanceForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  // Clear all errors
  document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
  
  // Validate
  let isValid = true;
  
  // Check name
  const firstName = document.getElementById('Name_First').value.trim();
  const lastName = document.getElementById('Name_Last').value.trim();
  if (!lastName) {
    document.getElementById('Name_error').style.display = 'block';
    isValid = false;
  }
  
  // Check email
  const email = document.getElementById('Email').value.trim();
  const emailRegex = /^[\w]([\w\-.+&'/]*)@([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,22}$/;
  if (!email || !emailRegex.test(email)) {
    document.getElementById('Email_error').style.display = 'block';
    isValid = false;
  }
  
  // Check mobile (if provided)
  const mobile = document.getElementById('PhoneNumber').value.trim();
  if (mobile && mobile.length !== 10) {
    document.getElementById('PhoneNumber_error').style.display = 'block';
    isValid = false;
  }
  
  if (!isValid) return;
  
  // Show loading
  document.getElementById('submitText').style.display = 'none';
  document.getElementById('loadingText').style.display = 'inline-block';
  document.getElementById('submitBtn').disabled = true;
  
  // Submit form
  const formData = new FormData(this);
  
  setTimeout(() => {
    fetch(this.action, {
      method: 'POST',
      body: formData,
      mode: 'no-cors'
    }).then(() => {
      // Show success and redirect
      const fullName = (firstName + ' ' + lastName).trim();
      document.getElementById('successName').textContent = 'Thank you, ' + fullName + '!';
      document.getElementById('successModal').style.display = 'block';
      
      // Redirect after 3 seconds
      setTimeout(() => {
        window.location.href = 'https://support.ausclear.com.au';
      }, 3000);
    }).catch(() => {
      // Even on error, show success (no-cors doesn't return response)
      const fullName = (firstName + ' ' + lastName).trim();
      document.getElementById('successName').textContent = 'Thank you, ' + fullName + '!';
      document.getElementById('successModal').style.display = 'block';
      
      // Redirect after 3 seconds
      setTimeout(() => {
        window.location.href = 'https://support.ausclear.com.au';
      }, 3000);
    });
  }, 1500);
});
</script>

</body>
</html>
